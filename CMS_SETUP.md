# EvilBook CMS - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ

## üìã –û–±–∑–æ—Ä

–≠—Ç–æ CMS-–∞–¥–º–∏–Ω–∫–∞ –¥–ª—è –∫–Ω–∏–∂–Ω–æ–≥–æ –±–ª–æ–≥–∞ EvilBook, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –Ω–∞ –±–∞–∑–µ Supabase –∏ React.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã. –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å:

```bash
npm install
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Supabase

#### 2.1. –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ Supabase

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [https://supabase.com](https://supabase.com)
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç
3. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏

#### 2.2. –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π

1. –û—Ç–∫—Ä–æ–π—Ç–µ SQL Editor –≤ –ø–∞–Ω–µ–ª–∏ Supabase
2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ —Ñ–∞–π–ª—ã –º–∏–≥—Ä–∞—Ü–∏–π –ø–æ –ø–æ—Ä—è–¥–∫—É:
   - `supabase/migrations/001_initial_schema.sql`
   - `supabase/migrations/002_seed_data.sql`

#### 2.3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Storage

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª Storage
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π bucket —Å –∏–º–µ–Ω–µ–º `media`
3. –°–¥–µ–ª–∞–π—Ç–µ –µ–≥–æ –ø—É–±–ª–∏—á–Ω—ã–º (Public bucket)

#### 2.4. –°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª Authentication
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, admin@evilbook.com)
3. –û—Ç–∫—Ä–æ–π—Ç–µ SQL Editor –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```sql
-- –ó–∞–º–µ–Ω–∏—Ç–µ USER_ID –Ω–∞ ID —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
INSERT INTO public.user_roles (user_id, role)
VALUES ('YOUR_USER_ID_HERE', 'admin');
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `.env.example` –≤ `.env`:

```bash
copy .env.example .env
```

2. –û—Ç–∫—Ä–æ–π—Ç–µ `.env` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è:
   - `VITE_SUPABASE_URL` - URL –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ Supabase
   - `VITE_SUPABASE_ANON_KEY` - Anon/Public –∫–ª—é—á

–≠—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏—è –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –≤ Settings ‚Üí API –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ Supabase.

### 4. –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

```bash
npm run dev
```

–°–∞–π—Ç –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: http://localhost:5173

## üîê –î–æ—Å—Ç—É–ø –∫ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏

1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:5173/admin/login
2. –í–æ–π–¥–∏—Ç–µ —Å —É—á–µ—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
3. –í—ã –ø–æ–ø–∞–¥–µ—Ç–µ –≤ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∞–¥–º–∏–Ω–∫–∏

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã:

- **–ì–ª–∞–≤–Ω–∞—è** (`/admin`) - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –æ–±–∑–æ—Ä
- **–°–µ–∫—Ü–∏–∏ —Å–∞–π—Ç–∞** (`/admin/sections`) - –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ —Å–µ–∫—Ü–∏–π
- **–†–µ—Ü–µ–Ω–∑–∏–∏** (`/admin/reviews`) - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Ü–µ–Ω–∑–∏—è–º–∏ (TODO)
- **–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏** (`/admin/comments`) - –ú–æ–¥–µ—Ä–∞—Ü–∏—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ (TODO)
- **–ù–∞–≤–∏–≥–∞—Ü–∏—è** (`/admin/navigation`) - –†–µ–¥–∞–∫—Ç–æ—Ä –º–µ–Ω—é (TODO)
- **–ú–µ–¥–∏–∞** (`/admin/media`) - –ì–∞–ª–µ—Ä–µ—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (TODO)
- **–ù–∞—Å—Ç—Ä–æ–π–∫–∏** (`/admin/settings`) - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∞–π—Ç–∞ (TODO)

### –î–æ—Å—Ç—É–ø–Ω—ã–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä—ã —Å–µ–∫—Ü–∏–π:

1. **Hero** - –ì–ª–∞–≤–Ω—ã–π –±–∞–Ω–Ω–µ—Ä —Å–∞–π—Ç–∞
2. **About** - –°–µ–∫—Ü–∏—è "–û–±–æ –º–Ω–µ"
3. **Subscribe** - –§–æ—Ä–º–∞ –ø–æ–¥–ø–∏—Å–∫–∏
4. **Reviews Section** - –°–µ–∫—Ü–∏—è —Ä–µ—Ü–µ–Ω–∑–∏–π –Ω–∞ –≥–ª–∞–≤–Ω–æ–π
5. **Reviews Page** - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤—Å–µ—Ö —Ä–µ—Ü–µ–Ω–∑–∏–π

## üóÑÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü—ã:

- `site_sections` - –ö–æ–Ω—Ç–µ–Ω—Ç —Å–µ–∫—Ü–∏–π —Å–∞–π—Ç–∞
- `navigation_items` - –≠–ª–µ–º–µ–Ω—Ç—ã –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- `site_settings` - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∞–π—Ç–∞
- `reviews` - –†–µ—Ü–µ–Ω–∑–∏–∏ –Ω–∞ –∫–Ω–∏–≥–∏
- `comments` - –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `profiles` - –ü—Ä–æ—Ñ–∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `user_roles` - –†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### –†–æ–ª–∏:

- `admin` - –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º —Ñ—É–Ω–∫—Ü–∏—è–º
- `moderator` - –ú–æ–¥–µ—Ä–∞—Ü–∏—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ (TODO)
- `user` - –û–±—ã—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å

## üé® –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

–í—Å–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –≤ Supabase Storage –≤ bucket `media`.

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫:
- `media/hero/` - –§–æ–Ω–æ–≤—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è Hero —Å–µ–∫—Ü–∏–∏
- `media/about/` - –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –¥–ª—è —Å–µ–∫—Ü–∏–∏ About
- `media/covers/` - –û–±–ª–æ–∂–∫–∏ –∫–Ω–∏–≥

## üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (TODO)

### –§–∞–∑–∞ 1: –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä–æ–≤ (–æ—Å—Ç–∞–ª–æ—Å—å)
- [ ] –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ—Ü–µ–Ω–∑–∏—è–º–∏
- [ ] –°–æ–∑–¥–∞—Ç—å —Ä–µ–¥–∞–∫—Ç–æ—Ä —Ä–µ—Ü–µ–Ω–∑–∏–∏
- [ ] –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
- [ ] –°–æ–∑–¥–∞—Ç—å —Ä–µ–¥–∞–∫—Ç–æ—Ä –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- [ ] –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –º–µ–¥–∏–∞-–≥–∞–ª–µ—Ä–µ–∏
- [ ] –°–æ–∑–¥–∞—Ç—å —Ä–µ–¥–∞–∫—Ç–æ—Ä –Ω–∞—Å—Ç—Ä–æ–µ–∫

### –§–∞–∑–∞ 2: –ú–∏–≥—Ä–∞—Ü–∏—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
- [ ] –û–±–Ω–æ–≤–∏—Ç—å Hero.tsx –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è useContent
- [ ] –û–±–Ω–æ–≤–∏—Ç—å About.tsx –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è useContent
- [ ] –û–±–Ω–æ–≤–∏—Ç—å Subscribe.tsx –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è useContent
- [ ] –û–±–Ω–æ–≤–∏—Ç—å Reviews.tsx –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è useContent + useReviews
- [ ] –û–±–Ω–æ–≤–∏—Ç—å ReviewsListPage.tsx –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è useReviews
- [ ] –û–±–Ω–æ–≤–∏—Ç—å Header.tsx –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è useSiteSettings + useNavigation
- [ ] –û–±–Ω–æ–≤–∏—Ç—å Footer.tsx –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è useSiteSettings
- [ ] –û–±–Ω–æ–≤–∏—Ç—å Comments.tsx –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Supabase

### –§–∞–∑–∞ 3: –ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- [ ] –ó–∞–≥—Ä—É–∑–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ Storage
- [ ] –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –¥–∞–Ω–Ω—ã–µ —Ä–µ—Ü–µ–Ω–∑–∏–π –∏–∑ TypeScript —Ñ–∞–π–ª–æ–≤ –≤ –ë–î
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å fallback –¥–ª—è —Ä–∞–±–æ—Ç—ã –±–µ–∑ Supabase (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Frontend**: React 18, TypeScript, Vite
- **UI**: shadcn/ui, Tailwind CSS
- **Backend**: Supabase (PostgreSQL, Auth, Storage)
- **State Management**: React Query (TanStack Query)
- **Routing**: React Router v6

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Supabase](https://supabase.com/docs)
- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è React Query](https://tanstack.com/query/latest)
- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è shadcn/ui](https://ui.shadcn.com)

## üêõ Troubleshooting

### –û—à–∏–±–∫–∞ "Invalid API credentials"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å VITE_SUPABASE_URL –∏ VITE_SUPABASE_ANON_KEY –≤ .env
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—Ä–æ–µ–∫—Ç Supabase –∞–∫—Ç–∏–≤–µ–Ω

### –ù–µ –º–æ–≥—É –≤–æ–π—Ç–∏ –≤ –∞–¥–º–∏–Ω–∫—É
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–Ω –≤ Authentication
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ä–æ–ª—å 'admin' –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ —Ç–∞–±–ª–∏—Ü—É user_roles
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å email –∏ –ø–∞—Ä–æ–ª—è

### –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ bucket 'media' —Å–æ–∑–¥–∞–Ω –∏ –ø—É–±–ª–∏—á–Ω—ã–π
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ RLS –ø–æ–ª–∏—Ç–∏–∫–∏ –¥–ª—è storage.objects

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è
- –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—à–∏–±–∫–∏
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ RLS –ø–æ–ª–∏—Ç–∏–∫–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–º–µ–µ—Ç —Ä–æ–ª—å 'admin'

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

¬© 2026 EvilBook. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.
